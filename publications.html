<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Publications of Prof. Gaetano Santulli</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    line-height: 1.6;
  }

  p {
    margin-bottom: 15px;
  }

  a {
    color: blue;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
    color: darkblue;
    transition: 0.3s;
  }

  h2 {
    color: brown;
    margin-top: 40px;
  }

  h3 {
    margin-top: 20px;
  }

  ul {
    list-style: none;
    padding-left: 0;
  }

  li {
    margin-bottom: 20px;
    transition: transform 0.2s;
  }

  li:hover {
    transform: scale(1.02);
  }

  strong {
    color: green;
  }

  u {
    text-decoration: underline;
  }

  .page-counter {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: white;
    background: linear-gradient(90deg, #36d1dc, #5b86e5);
    padding: 15px;
    border-radius: 10px;
    margin-top: 40px;
  }
</style>
</head>
<body>

<p style="color:brown; font-weight:bold; font-size:18px;">
  Peer-reviewed publications authored by Prof. Gaetano Santulli, MD, PhD, FAHA
</p>

<p style="margin-bottom:25px;">
  <a href="#books" style="font-weight:bold;">→ Click here for BOOKS & BOOK CHAPTERS</a>
</p>

<div id="publications">
  <p>Loading publications..</p>
</div>

<hr style="margin:40px 0;">

<h2 id="books">BOOKS & BOOK CHAPTERS</h2>
<h3 style="margin-top:20px;">BOOKS EDITED BY PROF. SANTULLI</h3>
<ul id="books-list"></ul>

<h3 style="margin-top:30px;">CHAPTERS IN BOOKS AND TEXTBOOKS (Selection)</h3>
<ul id="chapters-list"></ul>

<hr style="margin:40px 0;">

<div class="page-counter" id="page-counter">
  Page Visits: <span id="counter">0</span>
</div>

<script>
// ---------------------------
// 1. Counter (LocalStorage-based)
// ---------------------------
let count = localStorage.getItem('pageCounter') || 5432;
count++;
localStorage.setItem('pageCounter', count);
document.getElementById('counter').textContent = count;

// ---------------------------
// 2. Books & Chapters Data
// ---------------------------
const books = [
  ["Gaetano Santulli","ANGIOGENESIS: INSIGHTS FROM A SYSTEMATIC OVERVIEW","Nova Publishers Inc., New York, NY","2013","978-162618114-4",""],
  ["Gaetano Santulli","ADRENAL GLANDS: FROM PATHOPHYSIOLOGY TO CLINICAL PRACTICE","Nova Publishers Inc.","2015","978-1634835503",""],
  ["Gaetano Santulli","MICRORNA: FROM MOLECULAR BIOLOGY TO CLINICAL PRACTICE","Springer","2016","978-3319223797; 978-3319237299; 978-331922670-5",""],
  ["Gaetano Santulli","MITOCHONDRIAL DYNAMICS IN CARDIOVASCULAR MEDICINE","Springer-Nature","2017","978-3-319-55329-0",""],
  ["Gaetano Santulli","DIET AND METABOLIC DYSFUNCTION","MDPI","2017","978-3038423225; 978-3038423249",""],
  ["Gaetano Santulli","CARDIOVASCULAR DISEASE AND DIABETES: A JOURNEY FROM BENCH TO BEDSIDE","Frontiers","2019","978-2889459995",""],
  ["Gaetano Santulli","CARDIOVASCULAR DISEASE: FROM MOLECULAR MECHANISMS TO CLINICAL THERAPIES","MDPI","2021","978-3036509938",""],
  ["Claudio De Lucia, Christina Maria Pabelick, Yih-Kuen Jan, Gaetano Santulli, Pierre Denise","METHODS AND APPLICATIONS IN CLINICAL AND TRANSLATIONAL PHYSIOLOGY","Frontiers","2023","978-2832520437",""],
  ["Gaetano Santulli","TRANSLATIONAL ASPECTS OF CARDIOVASCULAR BIOLOGY: FROM BENCH TO BEDSIDE","MDPI","2023","978-303657575-9",""],
  ["Gaetano Santulli, Celestino Sardu, Nunzia D’Onofrio","INFLUENCE OF LIFESTYLE FACTORS IN THE MANAGEMENT OF DIABETES MELLITUS","Frontiers Media","2023","978-2-8325-3345-1","10.3389/978-283253345-1"],
  ["Bruno Trimarco, Gaetano Santulli","DIETARY SUPPLEMENTS IN CARDIOVASCULAR AND METABOLIC DISEASES","MDPI","2024","978-372581295-0",""]
];

const chapters = [
  ["Gaetano Santulli","SYMPATHETIC NERVOUS SYSTEM SIGNALING IN HEART FAILURE AND CARDIAC AGING","Pathophysiology and Pharmacotherapy of Cardiovascular Disease. Springer","2015"],
  ["Gaetano Santulli","THE ADRENERGIC SYSTEM IN CARDIOVASCULAR METABOLISM AND AGING","The Cardiovascular Adrenergic System. Springer","2015"],
  ["Gaetano Santulli et al.","ESSENTIAL ROLES OF INTRACELLULAR CALCIUM RELEASE CHANNELS","50th Anniversary of Calcium Channel Research: Biomedical Perspectives. Bentham Science","2015"],
  ["Michele Ciccarelli, Daniela Sorriento, Enrico Coscioni, Guido Iaccarino, Gaetano Santulli","ADRENERGIC RECEPTORS","Endocrinology of the Heart in Health and Disease. Elsevier","2016"],
  ["Jessica Gambardella, Bruno Trimarco, Guido Iaccarino, Gaetano Santulli","NEW INSIGHTS IN CARDIAC CALCIUM HANDLING AND EXCITATION–CONTRACTION COUPLING","Heart Failure: From Research to Clinical Practice. Springer-Nature","2017"],
  ["Daniela Sorriento, Gaetano Santulli et al.","THE N-TERMINAL DOMAIN OF GRK5 INHIBITS CARDIAC HYPERTROPHY THROUGH THE REGULATION OF CA2+/CALMODULIN DEPENDENT TRANSCRIPTION FACTORS","Calcium Signaling in Human Health and Diseases. MDPI","2018"],
  ["Gaetano Santulli, Daniel Lewis, Andrew Marks, Joachim Frank","RYANODINE RECEPTOR STRUCTURE AND FUNCTION IN HEALTH AND DISEASE","Membrane-bound Macromolecular Protein Complexes: Structure and Function. Springer-Nature","2018"],
  ["Stanislovas S. Jankauskas, Jessica Gambardella, Urna Kansakar, Scott Wilson, Pasquale Mone, Fahimeh Varzideh, Kwame Donkor, Michael Eacobacci, Ayobami Adebayo, Marco Morelli, John Ferrara, Xujun Wang, Angela Lombardi, Gaetano Santulli","MICRORNA AND DIABETES","MicroRNA: From Bench to Bedside. Elsevier","2022"]
];

function renderBooks() {
  const list = document.getElementById('books-list');
  books.forEach(b => {
    const authors = b[0].replace(/Gaetano Santulli/g, '<u>Gaetano Santulli</u>');
    const li = document.createElement('li');
    li.innerHTML = `<strong>${b[1]}</strong><br><em>${authors}</em><br><strong style="color:green;">${b[2]}.</strong> ${b[3]}.<br>ISBN: ${b[4]}${b[5] ? `<br>DOI: <a href="https://doi.org/${b[5]}" target="_blank">${b[5]}</a>` : ''}<br>`;
    list.appendChild(li);
  });
}

function renderChapters() {
  const list = document.getElementById('chapters-list');
  chapters.forEach(c => {
    const authors = c[0].replace(/Gaetano Santulli/g, '<u>Gaetano Santulli</u>');
    const li = document.createElement('li');
    li.innerHTML = `<strong>${c[1]}</strong><br><em>${authors}</em><br><strong style="color:green;">${c[2]}.</strong> ${c[3]}.`;
    list.appendChild(li);
  });
}

// ---------------------------
// 3. Fetch PubMed Data via API
// ---------------------------

// Replace the query with the same you had in PHP
const query = '((((((Santulli, G[Author]) NOT corrigendum[Title]) NOT spider[Title]) NOT erratum[Title]) NOT habitat[Title]) NOT dogs[Title]) NOT introduction[Title]) NOT correction[Title]) NOT violence[Title]';
const excludedTitle = 'Creation of a Novel Virtual Reality Simulation to Increase Nursing Skills in Management of Workplace Violence';
const excludedDOI = '10.1097/NNA.0000000000001548';
const batchSize = 100;

async function fetchPubMed() {
  const pubDiv = document.getElementById('publications');
  try {
    const esearchUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&term=${encodeURIComponent(query)}&retmax=100000&retmode=json`;
    const esearchResp = await fetch(esearchUrl);
    const esearchData = await esearchResp.json();
    const ids = esearchData.esearchresult.idlist;
    if (!ids || ids.length === 0) {
      pubDiv.innerHTML = '<p>No articles found.</p>';
      return;
    }

    pubDiv.innerHTML = '';

    const replacements = {
      "ECLINICALMEDICINE":"LANCET eCLINICALMEDICINE",
      "ISCIENCE":"iSCIENCE",
      "HYPERTENSION (DALLAS, TEX. : 1979)":"HYPERTENSION",
      "CELL CYCLE (GEORGETOWN, TEX.)":"CELL CYCLE",
      "CARDIOVASCULAR DIABETOLOGY. ENDOCRINOLOGY REPORTS":"CARDIOVASCULAR DIABETOLOGY - ENDOCRINOLOGY REPORTS",
      "NPJ METABOLIC HEALTH AND DISEASE":"NPJ METABOLIC HEALTH AND DISEASE (NATURE PORTFOLIO JOURNAL)",
      "HYPERTENSION RESEARCH : OFFICIAL JOURNAL OF THE JAPANESE SOCIETY OF HYPERTENSION":"HYPERTENSION RESEARCH",
      "CELLULAR AND MOLECULAR LIFE SCIENCES : CMLS":"CELLULAR AND MOLECULAR LIFE SCIENCES",
      "MOLECULAR MEDICINE (CAMBRIDGE, MASS.)":"MOLECULAR MEDICINE",
      "THE LANCET. HEALTHY LONGEVITY":"THE LANCET HEALTHY LONGEVITY",
      "THE LANCET. DIABETES & ENDOCRINOLOGY":"THE LANCET DIABETES & ENDOCRINOLOGY",
      "INTERNATIONAL JOURNAL OF CARDIOLOGY. HEART & VASCULATURE":"INTERNATIONAL JOURNAL OF CARDIOLOGY - HEART & VASCULATURE",
      "ERJ OPEN RESEARCH":"EUROPEAN RESPIRATORY SOCIETY OPEN RESEARCH",
      "EUROPEAN HEART JOURNAL. CARDIOVASCULAR PHARMACOTHERAPY":"EUROPEAN HEART JOURNAL - CARDIOVASCULAR PHARMACOTHERAPY",
      "JOURNAL OF ALZHEIMER'S DISEASE : JAD":"JOURNAL OF ALZHEIMER'S DISEASE",
      "ANTIOXIDANTS (BASEL, SWITZERLAND)":"ANTIOXIDANTS",
      "THE JOURNAL OF HEART AND LUNG TRANSPLANTATION : THE OFFICIAL PUBLICATION OF THE INTERNATIONAL SOCIETY FOR HEART TRANSPLANTATION":"JOURNAL OF HEART AND LUNG TRANSPLANTATION",
      "BIOENGINEERING (BASEL, SWITZERLAND)":"BIOENGINEERING",
      "PROCEEDINGS OF THE NATIONAL ACADEMY OF SCIENCES OF THE UNITED STATES OF AMERICA":"PNAS USA",
      "JOURNAL OF CLINICAL HYPERTENSION (GREENWICH, CONN.)":"JOURNAL OF CLINICAL HYPERTENSION",
      "ACTA PHYSIOLOGICA (OXFORD, ENGLAND)":"ACTA PHYSIOLOGICA",
      "CRITICAL CARE (LONDON, ENGLAND)":"CRITICAL CARE"
    };

    // Batch fetch PubMed XML data
    for (let i = 0; i < ids.length; i += batchSize) {
      const batchIds = ids.slice(i, i+batchSize).join(',');
      const efetchUrl = `https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&id=${batchIds}&retmode=xml`;
      const efetchResp = await fetch(efetchUrl);
      const efetchText = await efetchResp.text();
      const parser = new DOMParser();
      const xmlDoc = parser.parseFromString(efetchText, "application/xml");
      const articles = xmlDoc.querySelectorAll("PubmedArticle");

      articles.forEach(a => {
        const title = a.querySelector("ArticleTitle")?.textContent || '';
        let doi = '';
        a.querySelectorAll("ArticleId").forEach(id => {
          if (id.getAttribute("IdType") === "doi") doi = id.textContent;
        });
        if (title.includes(excludedTitle) || doi.toLowerCase() === excludedDOI.toLowerCase()) return;

        let journal = a.querySelector("Journal > Title")?.textContent.toUpperCase() || '';
        if (journal === "RESEARCH SQUARE") return;
        if (replacements[journal]) journal = replacements[journal];

        const year = a.querySelector("JournalIssue > PubDate > Year")?.textContent || 'n.d.';

        const authorNodes = a.querySelectorAll("Author");
        const authors = [];
        authorNodes.forEach(au => {
          const last = au.querySelector("LastName")?.textContent;
          const first = au.querySelector("ForeName")?.textContent;
          if (last && first) {
            let name = `${first} ${last}`;
            if (name.includes("Gaetano Santulli")) name = `<u>${name}</u>`;
            authors.push(name);
          }
        });

        const pmid = a.querySelector("PMID")?.textContent;

        const li = document.createElement('li');
        li.innerHTML = `<strong><a href='https://pubmed.ncbi.nlm.nih.gov/${pmid}/' target='_blank'>${title}</a></strong><br><em>${authors.join(', ')}</em><br><strong style='color:green;'>${journal}.</strong> ${year}.<br>PMID: ${pmid}${doi ? `<br>DOI: <a href='https://doi.org/${doi}' target='_blank'>${doi}</a>` : ''}<br>`;
        // Insert under year header
        let yearHeader = document.querySelector(`#year-${year}`);
        if (!yearHeader) {
          yearHeader = document.createElement('h2');
          yearHeader.id = `year-${year}`;
          yearHeader.textContent = `Year: ${year}`;
          pubDiv.appendChild(yearHeader);
          const ul = document.createElement('ul');
          ul.id = `list-${year}`;
          pubDiv.appendChild(ul);
        }
        document.getElementById(`list-${year}`).appendChild(li);
      });
    }

  } catch (err) {
    pubDiv.innerHTML = `<p>Error fetching publications: ${err}</p>`;
  }
}

// Initialize
renderBooks();
renderChapters();
fetchPubMed();

</script>

</body>
</html>
